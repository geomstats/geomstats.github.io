

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contributing &mdash; Geomstats latest documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Visualization" href="visualization.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Geomstats
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="first-steps.html">First steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-reference.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submitting-an-issue-a-bug-report-or-a-feature-request">Submitting An Issue: a bug report or a feature request</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-make-a-good-bug-report">How to make a good bug report</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-code-workflow">Contributing Code Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-contribute-github-workflow">How to contribute: GitHub workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pull-request-checklist">Pull request checklist</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#stalled-pull-requests">Stalled pull requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issues-for-new-contributors">Issues for New Contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-the-documentation">Building the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#writing-docstrings">Writing Docstrings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#intro-to-docstrings">Intro to Docstrings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-anatomy-of-a-docstring">The Anatomy of a Docstring</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docstring-examples">Docstring examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#coding-style-guidelines">Coding Style Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-review-guidelines">Code Review Guidelines</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Geomstats</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Contributing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/contributing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contributing">
<span id="id1"></span><h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<p>Geomstats is a community effort, and everyone is welcome to
contribute.</p>
<p>The project is hosted on <a class="reference external" href="https://github.com/geomstats/geomstats">https://github.com/geomstats/geomstats</a></p>
<p>Code is not the only way to help the project:</p>
<ul class="simple">
<li><p>reviewing pull requests,</p></li>
<li><p>submitting an issue or a bug report,</p></li>
<li><p>submitting a thumb up on issues that are important for you,</p></li>
<li><p>answering questions to help others on issues,</p></li>
<li><p>requesting new features,</p></li>
<li><p>improving the coding style in the codebase,</p></li>
<li><p>improving the coding style guidelines,</p></li>
<li><p>organizing and teaching tutorials, organizing hackathons,</p></li>
<li><p>working on the website and improving the documentation,</p></li>
<li><p>reference the project in your articles,</p></li>
<li><p>or simply star it to say “I use it”,</p></li>
</ul>
<p>are all priceless contributions.</p>
<p>If you have questions, do not hesitate to send an email to the mailing
list <a class="reference external" href="mailto:hi&#37;&#52;&#48;geomstats&#46;ai">hi<span>&#64;</span>geomstats<span>&#46;</span>ai</a>.</p>
<p>In this contributing document, we give details on submitting issues,
contributing code, writing documentation, following code style guidelines,
and reviewing code. This document is largely inspired by the
Scikit-Learn project.</p>
<div class="section" id="submitting-an-issue-a-bug-report-or-a-feature-request">
<h2>Submitting An Issue: a bug report or a feature request<a class="headerlink" href="#submitting-an-issue-a-bug-report-or-a-feature-request" title="Permalink to this headline">¶</a></h2>
<p>We use GitHub issues to track all bugs and feature requests; feel free to <a class="reference external" href="https://github.com/geomstats/geomstats/issues">open
an issue</a> if you have found a
bug or wish to see a feature implemented.</p>
<p>It is recommended to check that your issue complies with the
following rules before submitting:</p>
<ul class="simple">
<li><p>Verify that your issue is not being currently addressed by other
<a class="reference external" href="https://github.com/geomstats/geomstats/issues?q=">issues</a>
or <a class="reference external" href="https://github.com/geomstats/geomstats/pulls?q=">pull requests</a>.</p></li>
<li><p>If you are submitting a bug report, we strongly encourage you to
follow the guidelines in <a class="reference internal" href="#filing-bugs"><span class="std std-ref">How to make a good bug report</span></a>.</p></li>
</ul>
<div class="section" id="how-to-make-a-good-bug-report">
<span id="filing-bugs"></span><h3>How to make a good bug report<a class="headerlink" href="#how-to-make-a-good-bug-report" title="Permalink to this headline">¶</a></h3>
<p>When you submit an issue to <a class="reference external" href="https://github.com/geomstats/geomstats/issues">Github</a>, please do your best to
follow these guidelines! This will make it a lot easier to provide you with good
feedback:</p>
<ul>
<li><p>The ideal bug report contains a <strong>short reproducible code snippet</strong>, this way
anyone can try to reproduce the bug easily (see <a class="reference external" href="https://stackoverflow.com/help/mcve">this</a> for more details). If your snippet is
longer than around 50 lines, please link to a <a class="reference external" href="https://gist.github.com">gist</a> or a github repo.</p></li>
<li><p>If not feasible to include a reproducible snippet, please be specific about
what <strong>estimators and/or functions are involved and the shape of the data</strong>.</p></li>
<li><p>If an exception is raised, please <strong>provide the full traceback</strong>.</p></li>
<li><p>Please include your <strong>operating system type and version number</strong>, as well as
your <strong>Python, geomstats, numpy, and scipy versions</strong>. This information
can be found by running the following code snippet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geomstats</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;geomstats&#39;</span><span class="p">,</span> <span class="n">geomstats</span><span class="o">.</span><span class="n">__version___</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Please ensure all <strong>code snippets and error messages are formatted in
appropriate code blocks</strong>.  See <a class="reference external" href="https://help.github.com/articles/creating-and-highlighting-code-blocks">Creating and highlighting code blocks</a>
for more details.</p></li>
</ul>
</div>
</div>
<div class="section" id="contributing-code-workflow">
<h2>Contributing Code Workflow<a class="headerlink" href="#contributing-code-workflow" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>To avoid duplicating work, it is highly advised that you search through the
<a class="reference external" href="https://github.com/geomstats/geomstats/issues">issue tracker</a> and
the <a class="reference external" href="https://github.com/geomstats/geomstats/pulls">PR list</a>.
If in doubt about duplicated work, or if you want to work on a non-trivial
feature, it’s recommended to first open an issue in
the <a class="reference external" href="https://github.com/geomstats/geomstats/issues">issue tracker</a>
to get some feedbacks from core developers.</p>
</div></blockquote>
<div class="section" id="how-to-contribute-github-workflow">
<h3>How to contribute: GitHub workflow<a class="headerlink" href="#how-to-contribute-github-workflow" title="Permalink to this headline">¶</a></h3>
<p>The preferred way to contribute to geomstats is to fork the <a class="reference external" href="https://github.com/geomstats/geomstats/">main
repository</a> on GitHub,
then submit a “pull request” (PR).</p>
<p>In the first few steps, we explain how to locally install geomstats, and
how to set up your git repository:</p>
<ol class="arabic">
<li><p><a class="reference external" href="https://github.com/join">Create an account</a> on
GitHub if you do not already have one.</p></li>
<li><p>Fork the <a class="reference external" href="https://github.com/geomstats/geomstats">project repository</a>: click on the ‘Fork’
button near the top of the page. This creates a copy of the code under your
account on the GitHub user account. For more details on how to fork a
repository see <a class="reference external" href="https://help.github.com/articles/fork-a-repo/">this guide</a>.</p></li>
<li><p>Clone your fork of the geomstats repo from your GitHub account to your
local disk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:YourLogin/geomstats.git
$ cd geomstats
</pre></div>
</div>
</li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">upstream</span></code> remote. This saves a reference to the main
geomstats repository, which you can use to keep your repository
synchronized with the latest changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git remote add upstream https://github.com/geomstats/geomstats.git
</pre></div>
</div>
</li>
</ol>
<p>You should now have a working installation of geomstats, and your git
repository properly configured. The next steps now describe the process of
modifying code and submitting a PR:</p>
<ol class="arabic" start="5">
<li><p>Synchronize your master branch with the upstream master branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout master
$ git pull upstream master
</pre></div>
</div>
</li>
<li><p>Create a feature branch to hold your development changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout -b my_feature
</pre></div>
</div>
<p>and start making changes. Always use a feature branch. It’s good
practice to never work on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch!</p>
</li>
<li><p>Develop the feature on your feature branch on your computer, using Git to
do the version control. When you’re done editing, add changed files using
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and then <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git add modified_files
$ git commit -m &quot;Add my feature&quot;
</pre></div>
</div>
<p>to record your changes in Git. Your commit message should respect the <a class="reference external" href="https://git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project">good
commit messages guidelines</a>.
Then push the changes to your GitHub account with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push -u origin my-feature
</pre></div>
</div>
</li>
<li><p>Follow <a class="reference external" href="https://help.github.com/articles/creating-a-pull-request-from-a-fork">these</a>
instructions to create a pull request from your fork. This will send an
email to the committers. You may want to consider sending an email to the
mailing list <a class="reference external" href="mailto:hi&#37;&#52;&#48;geomstats&#46;ai">hi<span>&#64;</span>geomstats<span>&#46;</span>ai</a> for more visibility.</p></li>
</ol>
<p>It is often helpful to keep your local feature branch synchronized with the
latest changes of the main geomstats repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch upstream
$ git rebase upstream/master
</pre></div>
</div>
<p>Subsequently, you might need to solve potential conflicts. Refer to the
<a class="reference external" href="https://help.github.com/articles/resolving-a-merge-conflict-using-the-command-line/">Git documentation related to resolving merge conflict using the command
line</a>.
The <a class="reference external" href="https://git-scm.com/documentation">Git documentation</a> and
<a class="reference external" href="http://try.github.io">http://try.github.io</a> are excellent resources to get started with git,
and understanding all of the commands shown here.</p>
</div>
<div class="section" id="pull-request-checklist">
<h3>Pull request checklist<a class="headerlink" href="#pull-request-checklist" title="Permalink to this headline">¶</a></h3>
<p>In order to ease the reviewing process, we recommend that your contribution
complies with the following rules. The <strong>bolded</strong> ones are especially important:</p>
<ol class="arabic">
<li><p><strong>Give your pull request a helpful title</strong> that summarises what your
contribution does. This title will often become the commit message once
merged so it should summarise your contribution for posterity. In some
cases “Fix &lt;ISSUE TITLE&gt;” is enough. “Fix #&lt;ISSUE NUMBER&gt;” is never a
good title.</p></li>
<li><p><strong>Make sure that your code is</strong> <a class="reference external" href="https://www.geeksforgeeks.org/vectorization-in-python/">vectorized</a>.</p></li>
<li><p><strong>Submit your code with associated unit tests</strong>. High-quality
<a class="reference external" href="https://en.wikipedia.org/wiki/Unit_testing">unit testing</a>
is a corner-stone of the geomstats development process.
The tests are functions appropriately named, located in the <cite>tests</cite>
subdirectory, that check the validity of the algorithms and the
different options of the code. For each function <cite>my_fun</cite> that you
implement in a given <cite>my_module.py</cite>, you should add the corresponding test
function <cite>test_my_fun</cite> in the file <cite>test_my_module.py</cite>. We expect code
coverage of new features to be at least 90%, which is automatically verified
by the <cite>codecov</cite> software when you submit a PR. You should also add
<cite>test_my_fun_vect</cite> tests to ensure that your code is vectorized.</p></li>
<li><p><strong>Make sure your code passes all unit tests</strong>. First,
run the tests related to your changes. For example, if you changed
something in <cite>geomstats/spd_matrices_space.py</cite>:</p>
<p><cite>nose2 –verbose tests.test_spd_matrices_space</cite></p>
<p>and then run the tests of the whole codebase to check that your feature is
not breaking any of them:</p>
<p><cite>nose2</cite></p>
<p>This way, further modifications on the code base are granted
to be consistent with the desired behavior. Merging your PR should not break
any test in any backend (numpy, tensorflow or pytorch).</p>
</li>
<li><p><strong>Make sure that your PR follows Python international style guidelines</strong>,
<a class="reference external" href="https://www.python.org/dev/peps/pep-0008">PEP8</a>, which you should read.
The <cite>flake8</cite> package automatically checks for style violations when you
submit your PR. We recommend installing flake8 with its plugins on your
machine by running</p>
<p><cite>pip3 install -r dev-requirements.txt</cite></p>
<p>Then you can run</p>
<p><cite>flake8 geomstats tests examples</cite></p>
<p>To prevent adding commits which fail to adhere to the PEP8 guidelines, we
include a <cite>pre-commit &lt;https://pre-commit.com/&gt;</cite> config, which immediately
invokes flake8 on all files staged for commit when running <cite>git commit</cite>. To
enable the hook, simply run <cite>pre-commit install</cite> after installing
<cite>pre-commit</cite> either manually via <cite>pip</cite> or as part of <cite>dev-requirements.txt</cite>.</p>
<p>Please avoid reformatting parts of the file that your pull request doesn’t
change, as it distracts during code reviews.</p>
</li>
<li><p><strong>Make sure that your PR follows geomstats coding style and API</strong>,
see our <a class="reference internal" href="#coding-guidelines">coding-guidelines</a> below. Ensuring style consistency throughout
geomstats allows using tools to automatically parse the codebase,
for example searching all instances where a given function is used,
or use automatic find-and-replace during code’s refactorizations. It
also speeds up the code review and acceptance of PR, as the maintainers
do not spend time getting used to new conventions and coding preferences.</p></li>
<li><p><strong>Make sure your code is properly documented</strong>, and <strong>make
sure the documentation renders properly</strong>. To build the documentation, please
see our <a class="reference internal" href="#contribute-documentation"><span class="std std-ref">Documentation</span></a> guidelines. The plugin
flake8-docstrings automatically checks that your the documentation follows
our guidelines when you submit a PR.</p></li>
<li><p>Often pull requests resolve one or more other issues (or pull requests).
If merging your pull request means that some other issues/PRs should
be closed, you should <a class="reference external" href="https://github.com/blog/1506-closing-issues-via-pull-requests/">use keywords to create link to them</a>
(e.g., <code class="docutils literal notranslate"><span class="pre">Fixes</span> <span class="pre">#1234</span></code>; multiple issues/PRs are allowed as long as each
one is preceded by a keyword). Upon merging, those issues/PRs will
automatically be closed by GitHub. If your pull request is simply
related to some other issues/PRs, create a link to them without using
the keywords (e.g., <code class="docutils literal notranslate"><span class="pre">See</span> <span class="pre">Also</span> <span class="pre">#1234</span></code>).</p></li>
<li><p>PRs should often substantiate the change, through benchmarks of
performance and efficiency or through examples of usage. Examples also
illustrate the features and intricacies of the library to users. Have a
look at other examples in the <a class="reference external" href="https://github.com/geomstats/geomstats/tree/master/examples">examples/</a>
directory for reference. Examples should demonstrate why the new
functionality is useful in practice and, if possible, compare it to other
methods available in geomstats.</p></li>
<li><p>The user guide should also include expected time and space complexity
of the algorithm and scalability, e.g. “this algorithm can scale to a
large number of samples &gt; 100000, but does not scale in dimensionality:
n_features is expected to be lower than 100”.</p></li>
<li><p><strong>Each PR needs to be accepted by two core developpers</strong> before
being merged.</p></li>
</ol>
<p>You can also check our <a class="reference internal" href="#code-review"><span class="std std-ref">Code Review Guidelines</span></a> to get an idea of what reviewers
will expect.</p>
<p>Bonus points for contributions that include a performance analysis with
a benchmark script and profiling output (please report on the mailing
list <a class="reference external" href="mailto:hi&#37;&#52;&#48;geomstats&#46;ai">hi<span>&#64;</span>geomstats<span>&#46;</span>ai</a> or on the GitHub issue).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current state of the geomstats code base is not compliant with
all of those guidelines, but we expect that enforcing those constraints
on all new contributions will get the overall code base quality in the
right direction.</p>
</div>
<div class="section" id="stalled-pull-requests">
<h4>Stalled pull requests<a class="headerlink" href="#stalled-pull-requests" title="Permalink to this headline">¶</a></h4>
<p>As contributing a feature can be a lengthy process, some
pull requests appear inactive but unfinished. In such a case, taking
them over is a great service for the project.</p>
<p>A good etiquette to take over is:</p>
<ul>
<li><p><strong>Determine if a PR is stalled</strong></p>
<ul>
<li><p>A pull request may have the label “stalled” or “help wanted” if we
have already identified it as a candidate for other contributors.</p></li>
<li><p>To decide whether an inactive PR is stalled, ask the contributor if
she/he plans to continue working on the PR in the near future.
Failure to respond within 2 weeks with an activity that moves the PR
forward suggests that the PR is stalled and will result in tagging
that PR with “help wanted”.</p>
<p>Note that if a PR has received earlier comments on the contribution
that have had no reply in a month, it is safe to assume that the PR
is stalled and to shorten the wait time to one day.</p>
</li>
</ul>
</li>
<li><p><strong>Taking over a stalled PR</strong>: To take over a PR, it is important to
comment on the stalled PR that you are taking over and to link from the
new PR to the old one. The new PR should be created by pulling from the
old one.</p></li>
</ul>
</div>
</div>
<div class="section" id="issues-for-new-contributors">
<span id="new-contributors"></span><h3>Issues for New Contributors<a class="headerlink" href="#issues-for-new-contributors" title="Permalink to this headline">¶</a></h3>
<p>New contributors should look for the following tags when looking for issues.  We
strongly recommend that new contributors tackle “easy” issues first: this helps
the contributor become familiar with the contribution workflow, and for the core
devs to become acquainted with the contributor; besides which, we frequently
underestimate how easy an issue is to solve!</p>
<div class="topic">
<p class="topic-title">good first issue tag</p>
<p>A great way to start contributing to geomstats is to pick an item from
the list of <a class="reference external" href="https://github.com/geomstats/geomstats/labels/good%20first%20issue">good first issues</a>
in the issue tracker. Resolving these issues allow you to start contributing
to the project without much prior knowledge. If you have already contributed
to geomstats, you should look at Easy issues instead.</p>
</div>
<div class="topic">
<p class="topic-title">starter project tag</p>
<p>If you have already contributed to geomstats, another great way to contribute
to geomstats is to pick an item from the list of <a class="reference external" href="https://github.com/geomstats/geomstats/labels/starter%project">starter project</a> in the issue
tracker. Your assistance in this area will be greatly appreciated by the
more experienced developers as it helps free up their time to concentrate on
other issues.</p>
</div>
<div class="topic">
<p class="topic-title">help wanted tag</p>
<p>We often use the help wanted tag to mark issues regardless of difficulty. Additionally,
we use the help wanted tag to mark Pull Requests which have been abandoned
by their original contributor and are available for someone to pick up where the original
contributor left off. The list of issues with the help wanted tag can be found
<a class="reference external" href="https://github.com/geomstats/geomstats/labels/help%20wanted">here</a> .</p>
<p>Note that not all issues which need contributors will have this tag.</p>
</div>
</div>
</div>
<div class="section" id="documentation">
<span id="contribute-documentation"></span><h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>We are glad to accept any sort of documentation: function docstrings,
reStructuredText documents (like this one), tutorials, etc. reStructuredText
documents live in the source code repository under the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> directory.</p>
<div class="section" id="building-the-documentation">
<h3>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline">¶</a></h3>
<p>Building the documentation requires installing sphinx:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">sphinx</span>
</pre></div>
</div>
<p>To build the documentation, you need to be in the main <code class="docutils literal notranslate"><span class="pre">geomstats</span></code> folder. You can do this with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">build</span> <span class="n">docs</span><span class="o">/</span> <span class="n">docs</span><span class="o">/</span><span class="n">html</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-docstrings">
<h3>Writing Docstrings<a class="headerlink" href="#writing-docstrings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="intro-to-docstrings">
<h4>Intro to Docstrings<a class="headerlink" href="#intro-to-docstrings" title="Permalink to this headline">¶</a></h4>
<p>A docstring is a well-formatted description of your function/class/module which includes
its purpose, usage, and other information.</p>
<p>There are different markdown languages/formats used for docstrings in Python. The most common
three are reStructuredText, numpy, and google docstring styles. For geomstats, we are
using the numpy docstring standard.
When writing up your docstrings, please review the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">NumPy docstring guidge</a>
to understand the role and syntax of each section. Following this syntax is important not only for readability,
it is also required for automated parsing for inclusion into our generated API Reference.</p>
<p>You can look at these for any object by printing out the <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> attribute.
Try this out with the np.array class and the np.mean function to see good examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-anatomy-of-a-docstring">
<h4>The Anatomy of a Docstring<a class="headerlink" href="#the-anatomy-of-a-docstring" title="Permalink to this headline">¶</a></h4>
<p>These are some of the most common elements for functions (and ones we’d like you to add where appropriate):</p>
<ol class="arabic simple">
<li><p>Summary - a one-line (here &lt;79 char) description of the object</p>
<ol class="loweralpha simple">
<li><p>Begins immediately after the first “”” with a capital letter, ends with a period</p></li>
<li><p>If describing a function, use a verb with the imperative mood (e.g. <strong>Compute</strong> vs Computes)</p></li>
<li><p>Use a verb which is as specific as possible, but default to Compute when uncertain (as opposed to Calculate or Evaluate, for example)</p></li>
</ol>
</li>
<li><p>Description - a more informative multi-line description of the function</p>
<ol class="loweralpha simple">
<li><p>Separated from the summary line by a blank line</p></li>
<li><p>Begins with a capital letter and ends with period</p></li>
</ol>
</li>
<li><p>Parameters - a formatted list of arguments with type information and description</p>
<ol class="loweralpha simple">
<li><p>On the first line, state the parameter name, type, and shape when appropriate. The parameter name should be separated from the rest of the line by a <code class="docutils literal notranslate"><span class="pre">:</span></code> (with a space on either side). If a parameter is optional, write <code class="docutils literal notranslate"><span class="pre">optional</span></code> after the type information (separated by a comma and a space).</p></li>
<li><p>On the next line, indent and write a summary of the parameter beginning with a capital letter and ending with a period.</p></li>
<li><p>See <a class="reference internal" href="#docstring-examples"><span class="std std-ref">Docstring examples</span></a> below</p></li>
</ol>
</li>
<li><p>Returns (esp. for functions) - a formatted list of returned objects type information and description</p>
<ol class="loweralpha simple">
<li><p>The syntax here is the same as in the parameters section above.</p></li>
<li><p>See <a class="reference internal" href="#docstring-examples"><span class="std std-ref">Docstring examples</span></a> below</p></li>
</ol>
</li>
</ol>
<p>If documenting a class, you would also want to include an Attributes section.
There are many other optional sections you can include which are very helpful.
For example: Raises, See Also, Notes, Examples, References, etc.</p>
<dl class="simple">
<dt>N.B. Within Notes, you can</dt><dd><ul class="simple">
<li><p>include LaTex code</p></li>
<li><p>cite references in text using ids placed in References</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="docstring-examples">
<span id="id3"></span><h4>Docstring examples<a class="headerlink" href="#docstring-examples" title="Permalink to this headline">¶</a></h4>
<p>Here’s a generic docstring template:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">my_param_1</span><span class="p">,</span> <span class="n">my_param_2</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Write a one-line summary for the method.</span>

<span class="sd">   Write a description of the method, including &quot;big O&quot;</span>
<span class="sd">   (:math:`O\left(g\left(n\right)\right)`) complexities.</span>

<span class="sd">   Parameters</span>
<span class="sd">   ----------</span>
<span class="sd">   my_param_1 : array-like, shape=[n_samples, dimension]</span>
<span class="sd">      Write a short description of parameter my_param_1.</span>
<span class="sd">   my_param_2 : str, {&#39;vector&#39;, &#39;matrix&#39;}</span>
<span class="sd">      Write a short description of parameter my_param_2.</span>

<span class="sd">   Returns</span>
<span class="sd">   -------</span>
<span class="sd">   my_result : array-like, shape=[n_samples, dimension, dimension]</span>
<span class="sd">      Write a short description of the result returned by the method.</span>

<span class="sd">   Notes</span>
<span class="sd">   -----</span>
<span class="sd">   If relevant, provide equations with (:math:)</span>
<span class="sd">   describing computations performed in the method.</span>

<span class="sd">   Example</span>
<span class="sd">   -------</span>
<span class="sd">   Provide code snippets showing how the method is used.</span>
<span class="sd">   You can link to scripts of the examples/ directory.</span>

<span class="sd">   Reference</span>
<span class="sd">   ---------</span>
<span class="sd">   If relevant, provide a reference with associated pdf or</span>
<span class="sd">   wikipedia page.</span>
<span class="sd">   &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>And here’s a filled-in example from the Scikit-Learn project, modified to our syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fit_predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Compute cluster centers and predict cluster index for each sample.</span>

<span class="sd">   Convenience method; equivalent to calling fit(X) followed by</span>
<span class="sd">   predict(X).</span>

<span class="sd">   Parameters</span>
<span class="sd">   ----------</span>
<span class="sd">   X : {array-like, sparse_matrix} of shape=[n_samples, n_features]</span>
<span class="sd">      New data to transform.</span>
<span class="sd">   y : Ignored</span>
<span class="sd">      Not used, present here for API consistency by convention.</span>
<span class="sd">   sample_weight : array-like, shape [n_samples,], optional</span>
<span class="sd">      The weights for each observation in X. If None, all observations</span>
<span class="sd">      are assigned equal weight (default: None).</span>

<span class="sd">   Returns</span>
<span class="sd">   -------</span>
<span class="sd">   labels : array, shape=[n_samples,]</span>
<span class="sd">      Index of the cluster each sample belongs to.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="n">sample_weight</span><span class="p">)</span><span class="o">.</span><span class="n">labels_</span>
</pre></div>
</div>
<p>In general, have the following in mind:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Use built-in Python types. (<code class="docutils literal notranslate"><span class="pre">bool</span></code> instead of <code class="docutils literal notranslate"><span class="pre">boolean</span></code>)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">[</span></code> for defining shapes: <code class="docutils literal notranslate"><span class="pre">array-like,</span> <span class="pre">shape=[n_samples,]</span></code></p></li>
<li><p>For strings with multiple options, use brackets:
<code class="docutils literal notranslate"><span class="pre">input:</span> <span class="pre">str,</span> <span class="pre">{'log',</span> <span class="pre">'squared',</span> <span class="pre">'multinomial'}</span></code></p></li>
<li><p>1D or 2D data can be a subset of
<code class="docutils literal notranslate"><span class="pre">{array-like,</span> <span class="pre">ndarray,</span> <span class="pre">sparse</span> <span class="pre">matrix,</span> <span class="pre">dataframe}</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">array-like</span></code>
can also be a <code class="docutils literal notranslate"><span class="pre">list</span></code>, while <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> is explicitly only a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>.</p></li>
<li><p>Add “See Also” in docstrings for related classes/functions.
“See Also” in docstrings should be one line per reference,
with a colon and an explanation.</p></li>
</ol>
</div></blockquote>
<p>For Class and Module Examples see the <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/b194674c4/sklearn/ensemble/_weight_boosting.py#L285">scikit-learn _weight_boosting.py module</a>.
The class AdaBoost has a great example using the elements we’ve discussed here. Of course, these
examples are rather verbose, but they’re good for understanding the components.</p>
<p>When editing reStructuredText (<code class="docutils literal notranslate"><span class="pre">.rst</span></code>) files, try to keep line length under
80 characters (exceptions include links and tables).</p>
</div>
</div>
</div>
<div class="section" id="coding-style-guidelines">
<span id="coding-guidelines"></span><h2>Coding Style Guidelines<a class="headerlink" href="#coding-style-guidelines" title="Permalink to this headline">¶</a></h2>
<p>The following are some guidelines on how new code should be written. Of
course, there are special cases and there will be exceptions to these
rules. However, following these rules when submitting new code makes
the review easier so new code can be integrated in less time. Uniformly
formatted code makes it easier to share code ownership.</p>
<p>In addition to the PEP8 standards, geomstats follows the following
guidelines:</p>
<ol class="arabic simple">
<li><p>Use underscores to separate words in non class names: <code class="docutils literal notranslate"><span class="pre">n_samples</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">nsamples</span></code>.</p></li>
<li><p>Avoid single-character variable names. This prevents using automatic
tools to find-and-replace code, as searching for <code class="docutils literal notranslate"><span class="pre">x</span></code> in geomstats
will return the whole database. At least 3 characters are advised
for a variable name.</p></li>
<li><p>Use understandable function and variable names. The naming should help
the maintainers reading faster through your code. Thus, <code class="docutils literal notranslate"><span class="pre">my_array</span></code>,
<code class="docutils literal notranslate"><span class="pre">aaa</span></code>, <code class="docutils literal notranslate"><span class="pre">result</span></code>, <code class="docutils literal notranslate"><span class="pre">res</span></code> are generally bad variable names,
whereas <code class="docutils literal notranslate"><span class="pre">rotation_vec</span></code> or <code class="docutils literal notranslate"><span class="pre">symmetric_mat</span></code> read well.</p></li>
<li><p>Avoid comment in the code, the documentation goes in the docstrings.
This allows the explanations to be included in the documentation
generated automatically on the website. Furthermore, forbidding comments
forces us to write clean code, and clean docstrings.</p></li>
<li><p>Follow geomstats’ API. For example, points on manifolds are denoted
<code class="docutils literal notranslate"><span class="pre">point</span></code>, tangent vectors <code class="docutils literal notranslate"><span class="pre">tangent_vec</span></code>, matrices <code class="docutils literal notranslate"><span class="pre">mat</span></code>, exponential
<code class="docutils literal notranslate"><span class="pre">exp</span></code> and logarithms <code class="docutils literal notranslate"><span class="pre">log</span></code>.</p></li>
<li><p>Avoid multiple statements on one line. Divide complex computations on several
lines. Prefer a line return after a control flow statement (<code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">for</span></code>).</p></li>
<li><p><strong>Don’t use</strong> <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">*</span></code> <strong>in any case</strong>. It is considered harmful
by the <a class="reference external" href="https://docs.python.org/2/howto/doanddont.html#from-module-import">official Python recommendations</a>.
It makes the code harder to read as the origin of symbols is no
longer explicitly referenced, but most important, it prevents
using a static analysis tool like <a class="reference external" href="https://divmod.readthedocs.io/en/latest/products/pyflakes.html">pyflakes</a> to automatically
find bugs in geomstats.</p></li>
<li><p>Avoid the use of <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">...</span> <span class="pre">as</span></code> and of <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">import</span> <span class="pre">foo,</span> <span class="pre">bar</span></code>,
i.e. do not rename modules or modules’ functions, because you would create
objects living in several namespaces which creates confusion, see
<a class="reference external" href="https://docs.python.org/2/howto/doanddont.html#language-constructs-you-should-not-use">https://docs.python.org/2/howto/doanddont.html#language-constructs-you-should-not-use</a>.
Keeping the original namespace ensures naming consistency in the codebase
and speeds up the code reviews: co-developpers and maintainers do not have
to check if you are using the original module’s method or if you have
overwritten it.</p></li>
<li><p>Use single quotes ‘ and not double quotes ” for strings.</p></li>
</ol>
<p>10. If you need several lines for a function call, use the syntax</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_function_with_a_very_long_name</span><span class="p">(</span>
   <span class="n">my_param_1</span><span class="o">=</span><span class="n">value_1</span><span class="p">,</span> <span class="n">my_param_2</span><span class="o">=</span><span class="n">value_2</span><span class="p">)</span>
</pre></div>
</div>
<p>and not</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_function_with_a_very_long_name</span><span class="p">(</span><span class="n">my_param_1</span><span class="o">=</span><span class="n">value_1</span><span class="p">,</span>
                                  <span class="n">my_param_2</span><span class="o">=</span><span class="n">value_2</span><span class="p">)</span>
</pre></div>
</div>
<p>as the indentation will break and raise a flake8 error if the name
of the function is changed.</p>
<p>These guidelines can be revised and modified at any time, the only constraint
is that they should remain consistent through the codebase. To change geomstats
style guidelines, submit a PR to this contributing file, together with the
corresponding changes in the codebase.</p>
</div>
<div class="section" id="code-review-guidelines">
<span id="code-review"></span><h2>Code Review Guidelines<a class="headerlink" href="#code-review-guidelines" title="Permalink to this headline">¶</a></h2>
<p>Reviewing code contributed to the project as PRs is a crucial component of
geomstats development. We encourage anyone to start reviewing code of other
developers. The code review process is often highly educational for everybody
involved. This is particularly appropriate if it is a feature you would like to
use, and so can respond critically about whether the PR meets your needs. While
each pull request needs to be signed off by two core developers, you can speed
up this process by providing your feedback.</p>
<p>Here are a few important aspects that need to be covered in any code review,
from high-level questions to a more detailed check-list.</p>
<ul class="simple">
<li><p>Do we want this in the library? Is it likely to be used? Do you, as
a geomstats user, like the change and intend to use it? Is it in
the scope of geomstats? Will the cost of maintaining a new
feature be worth its benefits?</p></li>
<li><p>Is the code consistent with the API of geomstats? Are public
functions/classes/parameters well named and intuitively designed?</p></li>
<li><p>Are all public functions/classes and their parameters, return types, and
stored attributes named according to geomstats conventions and documented clearly?</p></li>
<li><p>Is every public function/class tested? Are a reasonable set of
parameters, their values, value types, and combinations tested? Do
the tests validate that the code is correct, i.e. doing what the
documentation says it does? If the change is a bug-fix, is a
non-regression test included? Look at <a class="reference external" href="https://jeffknupp.com/blog/2013/12/09/improve-your-python-understanding-unit-testing">this</a>
to get started with testing in Python.</p></li>
<li><p>Do the tests pass in the continuous integration build? If
appropriate, help the contributor understand why tests failed.</p></li>
<li><p>Do the tests cover every line of code (see the coverage report in the build
log)? If not, are the lines missing coverage good exceptions?</p></li>
<li><p>Is the code easy to read and low on redundancy? Should variable names be
improved for clarity or consistency?</p></li>
<li><p>Could the code easily be rewritten to run much more efficiently for
relevant settings?</p></li>
<li><p>Will the new code add any dependencies on other libraries? (this is
unlikely to be accepted)</p></li>
<li><p>Does the documentation render properly (see the
<a class="reference internal" href="#contribute-documentation"><span class="std std-ref">Documentation</span></a> section for more details), and are the plots
instructive?</p></li>
<li><p>Upon merging, use the <code class="docutils literal notranslate"><span class="pre">Rebase</span> <span class="pre">and</span> <span class="pre">Merge</span></code> option to keep git history clean.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="visualization.html" class="btn btn-neutral float-left" title="Visualization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020, Geomstats, Inc.
      <span class="lastupdated">
        Last updated on Apr 2, 2020, 3:32:07 PM.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>